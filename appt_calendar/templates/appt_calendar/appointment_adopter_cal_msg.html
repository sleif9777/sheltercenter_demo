{% load wishlist_extras %}

<div class="appointment">  
  <table class="appt-info-block" id="appt-header-block">
    <tr>
      <td class="appt-description left upper">
        <b><a class="appt_action" href="{% url 'edit_cal_appointment' current_appt.id date.year date.month date.day %}">{{current_appt_str}}</a>
      </td>
      <td class="appt-description right">
        <a href="{% url 'edit_cal_appointment' current_appt.id date.year date.month date.day %}">&#9998;&#xFE0E;</a><a href="{% url 'remove_adopter' current_appt.id date.year date.month date.day %}">&#10006;&#xFE0E;</a>
      </td>
    </tr>
    <tr>
      <td colspan="2">
        <ul class="appt-two-col-list">
          <li>({{current_appt.appt_string}})</li>
          {% if current_appt.mobility %}
          <li>Mobility accomodations</li>
          {% endif %}
          {% if current_appt.bringing_dog %}
          <li>Bringing dog!</li>
          {% endif %}
          {% if current_appt.has_cat %}
          <li>Has a cat!</li>
          {% endif %}
        </ul>
      </td>
    </tr>
  </table>

  {% if current_appt.adopter_notes %}
  <table class="appt-subblock appt-info-block">
    <tr class="info-block-subheader">
      <th><a href="{% url 'edit_cal_appointment' current_appt.id date.year date.month date.day %}">Notes &#9998;&#xFE0E;</a></th>
    </tr>
    <tr>
      <td class="left">{{current_appt.adopter_notes|linebreaks}}</td>
    </tr>
  </table>
  {% endif %}

  <table class="appt-subblock appt-info-block">
    <tr class="info-block-subheader">
      <th><a href="{% url 'edit_cal_appointment' current_appt.id date.year date.month date.day %}">Preferences  &#9998;&#xFE0E;</a></th>
    </tr>
    <tr>
      <td>
        <ul class="appt-two-col-list">
          {% if current_appt.adopter.gender_preference == "2" %}
          <li>Only interested in females</li>
          {% elif current_appt.adopter.gender_preference == "3" %}
          <li>Only interested in males</li>
          {% endif %}
          {% if current_appt.adopter.age_preference == "2" %}
          <li>Puppies only</li>
          {% elif current_appt.adopter.age_preference == "3" %}
          <li>Adults only</li>
          {% endif %}
          {% if current_appt.adopter.min_weight > 0 and current_appt.adopter.max_weight == 0 %}
          <li>Looking for over {{current_appt.adopter.min_weight}} lbs.</li>
          {% elif current_appt.adopter.max_weight > 0 and current_appt.adopter.min_weight == 0 %}
          <li>Looking for under {{current_appt.adopter.max_weight}} lbs.</li>
          {% elif current_appt.adopter.min_weight > 0 and current_appt.adopter.max_weight > 0 %}
          <li>Looking for between {{current_appt.adopter.min_weight}} and {{current_appt.adopter.max_weight}} lbs.</li>
          {% endif %}
          {% if current_appt.adopter.hypo_preferred %}
          <li>Needs hypo/low-shedding!</li>
          {% endif %}
        </ul>
      </td>
    </tr>
  </table>

  <table class="appt-subblock appt-info-block no-border">
    <tr>
      <td class="left">
        <a href="{% url 'remove_adopter' current_appt.id date.year date.month date.day %}">Cancel My Appointment</a>
      </td>
      <td></td>
    </tr>
  </table>
</div>
<div class="info-box short-notice">
  <table class="appt-info-block" id="appt-header-block">
    <tr>
      <td class="appt-description left upper">
        <b><a class="appt_action" href="{% url 'edit_cal_appointment' current_appt.id date.year date.month date.day %}">MY WATCH LIST</a>
      </td>
      <td class="appt-description right">
        <a href="{% url 'edit_cal_appointment' current_appt.id date.year date.month date.day %}">&#9998;&#xFE0E;</a>
      </td>
    </tr>
  </table>
  <table class="appt-info-block no-border">
    <tr>
      <td colspan="2" class="info-box-data left no-border">
        <ul>
          {% for dog in request.user.adopter.wishlist.iterator %}
          <li>
            <span class="{{dog|wishlist_class:date}}">{{dog.name}}{{dog|wishlist_str:date}}</span>
          </li>
          {% endfor %}
        </ul>
        <span class="subscript"><em>*Available on a first-come-first-serve basis. Marking them on your watch list does not equate to any sort of "hold" prior to an appointment.</em></span>
      </td>
    </tr>
  </table>
</div>